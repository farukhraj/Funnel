<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Funnel Management App</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>Funnel Management</h1>
    <p class="subtitle">Mobile-first CRM ‚Äî Leads, Profile & History</p>
  </header>

  <!-- Content sections for tabs -->
  <main>
    <!-- Dashboard (placeholder) -->
    <section id="dashboardTab" class="tab-content" style="display:block;">
      <h2>Dashboard</h2>
      <p>Summary coming soon ‚Äî total clients: <strong id="totalClients">0</strong></p>
    </section>

    <!-- Leads -->
    <section id="leadsTab" class="tab-content">
      <h2>Leads</h2>
      <table class="clients-table">
        <thead>
          <tr>
            <th>Name</th>
            <th>Stage</th>
            <th>Phones</th>
            <th>Services</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="clientsTable"></tbody>
      </table>
    </section>

    <!-- Add Client -->
    <section id="addClientTab" class="tab-content">
      <h2>Add Client</h2>
      <form id="addClientForm">
        <input id="clientName" placeholder="Name" required />
        <input id="clientPhone1" placeholder="Phone 1" />
        <input id="clientPhone2" placeholder="Phone 2 (optional)" />
        <input id="clientEmail" placeholder="Email" />
        <input id="clientAddress" placeholder="Address" />
        <input id="clientStage" placeholder="Stage" />
        <input id="clientExecutive" placeholder="Assigned Executive" />
        <input id="clientCountry" placeholder="Service - Country" />
        <input id="clientService" placeholder="Service - Sub" />
        <input id="clientPrice" type="number" placeholder="Estimated Price" />
        <input id="clientProfilePic" placeholder="Profile picture URL" />
        <button type="submit">Save Client</button>
      </form>
    </section>
  </main>

  <!-- Client modal: Profile + History (full-screen on mobile) -->
  <div id="clientModal" class="modal" aria-hidden="true">
    <div class="modal-content">
      <button class="modal-close" id="modalCloseBtn" aria-label="Close">‚úï</button>
      <h2 id="modalClientTitle">Client</h2>

      <!-- modal internal tabs -->
      <div class="modal-tabs">
        <button class="modal-tab-btn active" data-tab="profileTab">Profile</button>
        <button class="modal-tab-btn" data-tab="historyTab">History</button>
      </div>

      <!-- profile tab -->
      <div id="profileTab" class="modal-tab-content" style="display:block;">
        <form id="profileForm">
          <input id="modalName" placeholder="Name" required />
          <input id="modalPhone1" placeholder="Phone 1" />
          <input id="modalPhone2" placeholder="Phone 2" />
          <input id="modalEmail" placeholder="Email" />
          <input id="modalAddress" placeholder="Address" />
          <input id="modalStage" placeholder="Stage" />
          <input id="modalExecutive" placeholder="Assigned Executive" />
          <input id="modalCountry" placeholder="Country" />
          <input id="modalService" placeholder="Service" />
          <input id="modalPrice" type="number" placeholder="Estimated Price" />
          <input id="modalProfilePic" placeholder="Profile picture URL" />
          <button type="submit">Save Profile</button>
        </form>
      </div>

      <!-- history tab -->
      <div id="historyTab" class="modal-tab-content" style="display:none;">
        <h3>History (interactions & profile edits)</h3>

        <!-- add a new history record (interaction or stage change) -->
        <form id="addHistoryForm">
          <select id="historyType" required>
            <option value="">Type</option>
            <option value="Call">Call</option>
            <option value="Message">Message</option>
            <option value="Meeting">Meeting</option>
            <option value="StageChange">Stage Change</option>
            <option value="Note">Note</option>
          </select>
          <input id="historyPhone" placeholder="Phone used (optional)" />
          <input id="historyNextFollowUp" type="date" placeholder="Next follow-up (optional)" />
          <textarea id="historyNotes" placeholder="Notes / details"></textarea>
          <button type="submit">Add History</button>
        </form>

        <table class="history-table">
          <thead>
            <tr><th>Date</th><th>Type</th><th>Phone</th><th>Next Follow-up</th><th>Details</th></tr>
          </thead>
          <tbody id="historyTableBody"></tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Bottom nav (app-style) -->
  <nav id="bottomNav" class="bottom-nav">
    <button class="tab-btn active" data-tab="dashboardTab">üè† Dashboard</button>
    <button class="tab-btn" data-tab="leadsTab">üìã Leads</button>
    <button class="tab-btn" data-tab="addClientTab">‚ûï Add</button>
  </nav>

  <script type="module" src="script.js"></script>
</body>
</html>
